import{_ as r,c as t,b as a,a as i,d as s,e as l,w as d,r as o,o as u}from"./app-BKU_geH9.js";const p={};function c(h,e){const n=o("RouteLink");return u(),t("div",null,[e[3]||(e[3]=a("h1",{id:"update-thunder-7-thunder-8",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#update-thunder-7-thunder-8"},[a("span",null,"Update Thunder 7 -> Thunder 8")])],-1)),e[4]||(e[4]=a("h2",{id:"prerequisites",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#prerequisites"},[a("span",null,"Prerequisites")])],-1)),a("p",null,[e[1]||(e[1]=s("These instructions cover how to manually upgrade your existing Thunder project to Thunder. If you're installing Thunder for the first time, please follow the ")),l(n,{to:"/developer-guide/setup.html#install-thunder"},{default:d(()=>e[0]||(e[0]=[s("Thunder installation guide")])),_:1,__:[0]}),e[2]||(e[2]=s("."))]),e[5]||(e[5]=i(`<p>Before proceeding, ensure your Thunder 7 project and all dependencies are fully updated:</p><p>In your project&#39;s docroot, run:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line">drush ev <span class="token string">&quot;print \\Drupal::service(&#39;update.update_hook_registry&#39;)-&gt;getInstalledVersion(&#39;thunder&#39;) . PHP_EOL;&quot;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>You should see a version number <strong>8328</strong> or higher. If it&#39;s lower, update to the latest Thunder 7 release:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token builtin class-name">cd</span> <span class="token punctuation">..</span></span>
<span class="line"><span class="token function">composer</span> update</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>This should update to Thunder 7.4 or greater.</p><p>Now run database updates:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token builtin class-name">cd</span> docroot</span>
<span class="line">drush updb</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>Confirm that the <strong>Thunder 8328</strong> schema update has been applied. If not, double check that the correct version of Thunder is installed, and that <code>drush updb</code> did not throw any errors.</p><h2 id="required-module-changes-before-migration" tabindex="-1"><a class="header-anchor" href="#required-module-changes-before-migration"><span>Required Module Changes Before Migration</span></a></h2><p>Before you start with the code and database update please add the Slick module, the Admin Toolbar, Blazy, Select2 (replaced by Tagify) and the Responsive Preview module to your own composer.json. These will no longer be bundled with Thunder and can be removed after the update was successfully executed but may still be required for your project.</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">composer</span> require drupal/blazy drupal/select2 drupal/slick drupal/responsive_preview</span>
<span class="line"><span class="token function">composer</span> require npm-asset/blazy npm-asset/slick-carousel npm-asset/select2</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>Additionally, if you&#39;re using any of the following modules: jquery_ui, jquery_ui_draggable, default_content or paragraphs_paste, either <strong>uninstall</strong> them before migrating <strong>or</strong> explicitly require them yourself, since theyâ€™ve been removed from the Thunder distribution. These modules may not be compatible with Drupal 11.</p><p>To re-add them manually via composer:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">composer</span> require drupal/jquery_ui</span>
<span class="line"><span class="token function">composer</span> require drupal/jquery_ui_draggable</span>
<span class="line"><span class="token function">composer</span> require drupal/default_content</span>
<span class="line"><span class="token function">composer</span> require drupal/paragraphs_paste</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>If you continue using paragraphs_paste, be sure to <strong>disable</strong> the thunder_paragraphs_paste sub-module before upgrading.</p><h2 id="breaking-changes" tabindex="-1"><a class="header-anchor" href="#breaking-changes"><span>Breaking Changes</span></a></h2><h3 id="interface-changes-in-graphql-producers" tabindex="-1"><a class="header-anchor" href="#interface-changes-in-graphql-producers"><span>Interface changes in GraphQL producers</span></a></h3><p>The producers ThunderLanguage, ThunderBreadcrumb and ThunderJsonLd are now expecting a URL object instead of a path string.</p>`,19))])}const g=r(p,[["render",c]]),b=JSON.parse('{"path":"/developer-guide/migration/migrate-7-8.html","title":"Update Thunder 7 -> Thunder 8","lang":"en-US","frontmatter":{},"git":{"updatedTime":1756376010000,"contributors":[{"name":"Christian Fritsch","username":"","email":"chr.fritsch@gmx.net","commits":1}],"changelog":[{"hash":"b1a88c056f75ff0c39bc08ab6a0f3ce30b144dfa","time":1756376010000,"email":"chr.fritsch@gmx.net","author":"Christian Fritsch","message":"Release Thunder 8.2.5"}]},"filePathRelative":"developer-guide/migration/migrate-7-8.md"}');export{g as comp,b as data};
